{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\single-page\\error-logger.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\single-page\\error-logger.vue","mtime":1681468306526},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"D:/WorkSpace/IdeaProjects/harrier/harrier-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport dayjs from 'dayjs';\nimport { mapMutations } from 'vuex';\nexport default {\n  name: 'error_logger_page',\n  data: function data() {\n    var h = this.$createElement;\n    return {\n      columns: [{\n        type: 'index',\n        title: '序号',\n        width: 100\n      }, {\n        key: 'type',\n        title: '类型',\n        width: 100,\n        render: function render(h, _ref) {\n          var row = _ref.row;\n          return h(\"div\", [h(\"icon\", {\n            \"attrs\": {\n              \"size\": 16,\n              \"type\": row.type === 'ajax' ? 'md-link' : 'md-code-working'\n            }\n          })]);\n        }\n      }, {\n        key: 'code',\n        title: '编码',\n        render: function render(h, _ref2) {\n          var row = _ref2.row;\n          return h(\"span\", [row.code === 0 ? '-' : row.code]);\n        }\n      }, {\n        key: 'mes',\n        title: '信息'\n      }, {\n        key: 'url',\n        title: 'URL'\n      }, {\n        key: 'time',\n        title: '时间',\n        render: function render(h, _ref3) {\n          var row = _ref3.row;\n          return h(\"span\", [dayjs(row.time).format('YYYY-MM-DD HH:mm:ss')]);\n        },\n        sortable: true,\n        sortType: 'desc'\n      }]\n    };\n  },\n  computed: {\n    errorList: function errorList() {\n      return this.$store.state.app.errorList;\n    }\n  },\n  methods: _objectSpread(_objectSpread({}, mapMutations(['setHasReadErrorLoggerStatus'])), {}, {\n    exportData: function exportData() {\n      this.$refs.table.exportCsv({\n        filename: '错误日志.csv'\n      });\n    }\n  }),\n  activated: function activated() {\n    this.setHasReadErrorLoggerStatus();\n  },\n  mounted: function mounted() {\n    this.setHasReadErrorLoggerStatus();\n  }\n};",{"version":3,"names":["dayjs","mapMutations","name","data","h","$createElement","columns","type","title","width","key","render","_ref","row","_ref2","code","_ref3","time","format","sortable","sortType","computed","errorList","$store","state","app","methods","_objectSpread","exportData","$refs","table","exportCsv","filename","activated","setHasReadErrorLoggerStatus","mounted"],"sources":["src/view/single-page/error-logger.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Button @click=\"exportData\" type=\"primary\" style=\"margin: 0 10px 10px 0;\">导出日志记录</Button>\r\n    <b>注：这里只会显示成功保存到服务端的错误日志，而且页面错误日志不会在浏览器持久化存储，刷新页面即会丢失</b>\r\n    <Table ref=\"table\" :columns=\"columns\" :data=\"errorList\"></Table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from 'dayjs'\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n  name: 'error_logger_page',\r\n  data () {\r\n    return {\r\n      columns: [\r\n        {\r\n          type: 'index',\r\n          title: '序号',\r\n          width: 100\r\n        },\r\n        {\r\n          key: 'type',\r\n          title: '类型',\r\n          width: 100,\r\n          render: (h, { row }) => {\r\n            return (\r\n              <div>\r\n                <icon size={16} type={row.type === 'ajax' ? 'md-link' : 'md-code-working'}></icon>\r\n              </div>\r\n            )\r\n          }\r\n        },\r\n        {\r\n          key: 'code',\r\n          title: '编码',\r\n          render: (h, { row }) => {\r\n            return (\r\n              <span>{ row.code === 0 ? '-' : row.code }</span>\r\n            )\r\n          }\r\n        },\r\n        {\r\n          key: 'mes',\r\n          title: '信息'\r\n        },\r\n        {\r\n          key: 'url',\r\n          title: 'URL'\r\n        },\r\n        {\r\n          key: 'time',\r\n          title: '时间',\r\n          render: (h, { row }) => {\r\n            return (\r\n              <span>{ dayjs(row.time).format('YYYY-MM-DD HH:mm:ss') }</span>\r\n            )\r\n          },\r\n          sortable: true,\r\n          sortType: 'desc'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    errorList () {\r\n      return this.$store.state.app.errorList\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'setHasReadErrorLoggerStatus'\r\n    ]),\r\n    exportData () {\r\n      this.$refs.table.exportCsv({\r\n        filename: '错误日志.csv'\r\n      })\r\n    }\r\n  },\r\n  activated () {\r\n    this.setHasReadErrorLoggerStatus()\r\n  },\r\n  mounted () {\r\n    this.setHasReadErrorLoggerStatus()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"mappings":";;;;;;AASA,OAAAA,KAAA;AACA,SAAAC,YAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IAAA,IAAAC,CAAA,QAAAC,cAAA;IACA;MACAC,OAAA,GACA;QACAC,IAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAC,GAAA;QACAF,KAAA;QACAC,KAAA;QACAE,MAAA,WAAAA,OAAAP,CAAA,EAAAQ,IAAA;UAAA,IAAAC,GAAA,GAAAD,IAAA,CAAAC,GAAA;UACA,OAAAT,CAAA,SAAAA,CAAA;YAAA;cAAA,QAEA;cAAA,QAAAS,GAAA,CAAAN,IAAA;YAAA;UAAA;QAGA;MACA,GACA;QACAG,GAAA;QACAF,KAAA;QACAG,MAAA,WAAAA,OAAAP,CAAA,EAAAU,KAAA;UAAA,IAAAD,GAAA,GAAAC,KAAA,CAAAD,GAAA;UACA,OAAAT,CAAA,UACAS,GAAA,CAAAE,IAAA,eAAAF,GAAA,CAAAE,IAAA;QAEA;MACA,GACA;QACAL,GAAA;QACAF,KAAA;MACA,GACA;QACAE,GAAA;QACAF,KAAA;MACA,GACA;QACAE,GAAA;QACAF,KAAA;QACAG,MAAA,WAAAA,OAAAP,CAAA,EAAAY,KAAA;UAAA,IAAAH,GAAA,GAAAG,KAAA,CAAAH,GAAA;UACA,OAAAT,CAAA,UACAJ,KAAA,CAAAa,GAAA,CAAAI,IAAA,EAAAC,MAAA;QAEA;QACAC,QAAA;QACAC,QAAA;MACA;IAEA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,SAAA;IACA;EACA;EACAI,OAAA,EAAAC,aAAA,CAAAA,aAAA,KACA1B,YAAA,EACA,8BACA;IACA2B,UAAA,WAAAA,WAAA;MACA,KAAAC,KAAA,CAAAC,KAAA,CAAAC,SAAA;QACAC,QAAA;MACA;IACA;EAAA,EACA;EACAC,SAAA,WAAAA,UAAA;IACA,KAAAC,2BAAA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAD,2BAAA;EACA;AACA"}]}