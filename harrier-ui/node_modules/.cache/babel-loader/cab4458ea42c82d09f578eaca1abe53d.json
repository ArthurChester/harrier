{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\job\\jobList\\Log.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\job\\jobList\\Log.vue","mtime":1681468306538},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.search\";\nimport _defineProperty from \"D:/WorkSpace/IdeaProjects/harrier/harrier-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport utils from '@/common/utils';\nvar RESOURCE_PATH = '/udsJobStepRecord';\nexport default {\n  props: {\n    transData: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    var _this = this,\n      _ref5;\n    return _ref5 = {\n      jobDateList: [],\n      jobDate: [],\n      formBean: {},\n      gridData: [],\n      gridColumns: [{\n        title: '执行次数',\n        width: 110,\n        key: 'numTimes'\n      }, {\n        title: 'log',\n        // key: 'logName',\n        key: 'logName',\n        minWidth: 150,\n        render: function render(h, _ref) {\n          var column = _ref.column,\n            index = _ref.index,\n            row = _ref.row;\n          return h('div', [h('a', {\n            props: {\n              size: 'small',\n              type: 'info'\n            },\n            style: {\n              // marginRight: '5px'\n              // color: \"green\"\n            },\n            // href: row.logDir,\n            on: {\n              click: function click() {\n                // let id = row.job\n                // this.formBean.logPath = row.logPath\n                // this.formBean.logDir = row.logDir\n                // this.formBean.job = row.job\n                // this.formBean.serverName = row.serverName\n                _this.downloadLogfile(row);\n              }\n            }\n          }, row.logName)]);\n        }\n      }, {\n        title: 'script',\n        // key: 'scriptName',\n        key: 'scriptName',\n        minWidth: 140,\n        render: function render(h, _ref2) {\n          var column = _ref2.column,\n            index = _ref2.index,\n            row = _ref2.row;\n          return h('div', [h('a', {\n            props: {\n              size: 'small',\n              type: 'info'\n            },\n            style: {\n              // marginRight: '5px'\n              // color: \"green\"\n            },\n            // href: row.scriptPath,\n            on: {\n              click: function click() {\n                // let id = row.job\n                // this.formBean.scriptPath = row.scriptPath\n                // this.formBean.job = row.job\n                // this.formBean.platform = row.platform\n                // this.formBean.system = row.system\n                // this.formBean.scriptDir = row.scriptDir\n                // this.formBean.serverName = row.serverName\n                _this.downloadScriptfile(row);\n              }\n            }\n          }, row.scriptName)]);\n        }\n      }, {\n        title: '执行节点',\n        ellipsis: false,\n        tooltip: true,\n        width: 120,\n        sortable: true,\n        key: 'serverName',\n        render: function render(h, _ref3) {\n          var column = _ref3.column,\n            index = _ref3.index,\n            row = _ref3.row;\n          return h('div', [h('span', {\n            props: {\n              size: 'small',\n              type: 'info'\n            },\n            style: {\n              // marginRight: '5px'\n            }\n          }, row.serverName ? row.serverName : row.address)]);\n        }\n      },\n      /* {\r\n      title: '所有脚本',\r\n      key: '',\r\n      width: 90,\r\n      render: (h, {column,index, row}) => {\r\n      return h('div', [\r\n      h('a', {\r\n      props: {\r\n      \tsize: 'small',\r\n      \ttype: 'info',\r\n      },\r\n      style: {\r\n      \t//marginRight: '5px'\r\n      \t//color: \"green\"\r\n      },\r\n      on: {\r\n      \tclick :() => {\r\n      \t\tthis.showJobScriptOp(row);\r\n      \t}\r\n      }\r\n      }, \"查看\")\r\n      ])\r\n      }\r\n      }, */\n      {\n        title: '开始时间',\n        width: 175,\n        key: 'startTime'\n      }, {\n        title: '结束时间',\n        width: 175,\n        key: 'endTime',\n        render: function render(h, params) {\n          var endTimeStr = '';\n          endTimeStr = utils.fmtDate(params.row.endTime, 'yyyy');\n          if (endTimeStr == '2099') {\n            endTimeStr = '';\n          } else {\n            endTimeStr = params.row.endTime;\n          }\n          // alert(endTimeStr);\n          return h('div', {\n            props: {}\n          }, endTimeStr);\n        }\n      }, {\n        title: '耗时',\n        width: 120,\n        key: 'endTime',\n        render: function render(h, params) {\n          var etime = null;\n          var startTime = null;\n          var elapsed = '';\n          var str = utils.fmtDate(params.row.endTime, 'yyyy');\n          if (str == '2099') {\n            elapsed = '';\n          } else {\n            etime = utils.fmtDate(params.row.endTime, 'yyyyMMdd hh:mm:ss');\n            startTime = utils.fmtDate(params.row.startTime, 'yyyyMMdd hh:mm:ss');\n            var e = new Date(etime.substring(0, 4) + '/' + etime.substring(4, 6) + '/' + etime.substring(6));\n            var s = new Date(startTime.substring(0, 4) + '/' + startTime.substring(4, 6) + '/' + startTime.substring(6));\n            // let ss=\n            var second = parseInt(e.getTime() - s.getTime()) / 1000;\n            var hourTime = 0;\n            var minuteTime = 0;\n            var secondTime = 0;\n            if (second > 60) {\n              minuteTime = Math.floor(second / 60);\n              secondTime = Math.floor(second % 60);\n              if (minuteTime >= 60) {\n                hourTime = Math.floor(minuteTime / 60);\n                minuteTime = Math.floor(minuteTime % 60);\n              } else {\n                hourTime = 0;\n              }\n            } else {\n              hourTime = 0;\n              minuteTime = 0;\n              if (second == 60) {\n                minuteTime = 1;\n                secondTime = 0;\n              } else {\n                secondTime = second;\n              }\n            }\n            elapsed = _this.addZero(hourTime) + ':' + _this.addZero(minuteTime) + ':' + _this.addZero(secondTime);\n          }\n          return h('div', {\n            props: {}\n          }, elapsed);\n        }\n      }, {\n        title: 'TXDate',\n        width: 120,\n        key: 'jobDate',\n        render: function render(h, params) {\n          return h('div', {\n            props: {}\n          }, _this.transData.jobData.jobDate);\n        }\n      },\n      // {\n      // \ttitle: 'returnCode',\n      // \twidth: 110,\n      // \tkey: 'returnCode',\n      // },\n      {\n        title: '运行状态',\n        width: 110,\n        key: 'returnCode',\n        render: function render(h, params) {\n          var str = '';\n          var endTimeStr = '';\n          endTimeStr = utils.fmtDate(params.row.endTime, 'yyyy');\n          if (params.row.returnCode == 0) {\n            str = 'Done';\n          } else {\n            str = 'Failed';\n          }\n          if (endTimeStr == '2099') {\n            str = 'Running';\n          }\n          return h('div', {\n            props: {}\n          }, str);\n        }\n      }]\n    }, _defineProperty(_ref5, \"gridData\", []), _defineProperty(_ref5, \"selection\", []), _defineProperty(_ref5, \"page\", {\n      current: 1,\n      total: 10,\n      size: 10,\n      opt: [10, 50, 100]\n    }), _defineProperty(_ref5, \"ruleValidate\", {}), _defineProperty(_ref5, \"scriptGridData\", []), _defineProperty(_ref5, \"scriptGridColumns\", [\n    /* {\r\n    \ttype: 'index',\r\n    \ttitle: ' ',\r\n    \twidth: 80,\r\n    \t//align: 'center',\r\n    \tfixed: 'left'\r\n    }, */\n    {\n      title: '脚本名',\n      key: 'scriptName'\n    }, {\n      title: '执行参数',\n      minWidth: 150,\n      key: 'parameter'\n    }, {\n      title: '执行步数',\n      width: 100,\n      key: 'stepNum'\n    }, {\n      title: '操作',\n      width: 90,\n      render: function render(h, _ref4) {\n        var column = _ref4.column,\n          index = _ref4.index,\n          row = _ref4.row;\n        return h('div', [h('Button', {\n          props: {\n            size: 'small',\n            type: 'primary'\n          },\n          style: {\n            // marginRight: '5px'\n            // color: \"green\"\n          },\n          href: row.scriptPath,\n          on: {\n            click: function click() {\n              // this.formBean.scriptName = row.fileName\n              // this.formBean.job = this.transData.jobData.job\n              // this.formBean.platform = this.transData.jobData.platform\n              // this.formBean.system = this.transData.jobData.system\n              // this.formBean.scriptDir = row.path\n              // this.formBean.serverName = this.transData.jobData.serverName\n              _this.downloadScriptfile(row);\n            }\n          }\n        }, '下载')]);\n      }\n    }]), _defineProperty(_ref5, \"jobScriptOp\", {\n      show: false,\n      jobScriptParam: {}\n    }), _ref5;\n  },\n  methods: {\n    /**\r\n    * 初始化\r\n    **/\n    init: function init() {\n      this.search();\n    },\n    /**\r\n    * 如果传过来的有初始数据则进行数据绑定\r\n    **/\n    bindData: function bindData() {\n      try {\n        this.formBean = Object.assign({}, this.transData.initFormBean);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    hisDownload: function hisDownload() {\n      var params = {};\n      Object.assign(params, this.formBean);\n      params.job = this.transData.id;\n      var startTime = new Date(this.formBean.startTime);\n      params.jobDate = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd');\n      if (this.formBean.startTime == '') {\n        params.jobDate = null;\n      }\n      params.type = 'excel';\n      // utils.download(RESOURCE_PATH + '/downLoad', params);\n      utils.download(RESOURCE_PATH + '/logHisDownLoad', params);\n    },\n    downloadLogfile: function downloadLogfile(row) {\n      var params = {};\n      // Object.assign(params, this.formBean)\n      params.filename = row.logName;\n      params.uri = row.logPath;\n      utils.download('/file/loadFile', params);\n    },\n    downloadScriptfile: function downloadScriptfile(row) {\n      var params = {};\n      // Object.assign(params, this.formBean)\n      params.filename = row.scriptName;\n      params.uri = row.scriptPath;\n      utils.download('/file/loadFile', params);\n    },\n    downloadAllScriptfile: function downloadAllScriptfile(param) {\n      var params = {};\n      if (!this.scriptGridData) {\n        this.$Message.error({\n          content: '无脚本可下载!',\n          duration: 10,\n          closable: true\n        });\n        return;\n      }\n      Object.assign(params, this.jobScriptOp.jobScriptParam);\n      // params.scriptName = scriptName\n      utils.download(RESOURCE_PATH + '/downloadAllScriptfile', params);\n    },\n    showJobScriptOp: function showJobScriptOp() {\n      this.jobScriptOp.show = true;\n      this.jobScriptOp.jobScriptParam = this.transData.jobData;\n      this.getAllScript(this.transData.jobData);\n    },\n    getAllScript: function getAllScript(param) {\n      var _this2 = this;\n      var params = {};\n      Object.assign(params, param);\n      // params.currentPage = this.page.current;\n      // params.pageSize = this.page.size;\n      // params.job = this.transData.id;\n      if (!this.transData.formBean) {\n        params.currentPage = 1;\n      }\n      var httpConfig = {\n        method: 'GET',\n        url: '/udsJobStep/selectJobStepList',\n        params: params\n      };\n      this.$ajax(httpConfig).then(function (resp) {\n        // this.jobScriptOp.path = resp.data.path\n        resp.data.records.forEach(function (data) {\n          if (data.scriptPath) {\n            data.scriptName = data.scriptPath.substring(data.scriptPath.lastIndexOf('/') + 1);\n          }\n        });\n        _this2.scriptGridData = resp.data.records;\n      });\n    },\n    getStartTime: function getStartTime(startTime) {\n\n      // this.formBean.startTime= startTime;\n      // let etime=new Date(startTime);\n      // let num= parseInt((etime.getTime() -  startTime.getTime())/1000/60/60/24);\n      // if(num<0||num>30){\n      // \tthis.$Message.error('查询时间应在30天之内');\n      // \treturn\n      // }\n      // search();\n    },\n    addZero: function addZero(time) {\n      var str = time;\n      if (time < 10) {\n        str = '0' + time;\n      }\n      return str;\n    },\n    /**\r\n    * 查询\r\n    **/\n    search: function search() {\n      var _this3 = this;\n      var params = {};\n      // Object.assign(params, this.formBean)\n      params.currentPage = this.page.current;\n      params.pageSize = this.page.size;\n      params.job_record_id = this.transData.id;\n      // let startTime = new Date(this.formBean.startTime)\n      // let etime = new Date()\n      // let num = parseInt(((etime.getTime() -  startTime.getTime())) / 1000 / 60 / 60 / 24)\n      // if (num < 0 || num > 60) {\n      //   this.$Message.error('查询时间应在60天之内')\n      //   return\n      // }\n      // if (this.formBean.startTime == null || this.formBean.startTime == '') {\n      //   params.jobDate = null\n      // } else {\n      //   let str = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd')\n      //   params.jobDate = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd')\n      // }\n      // alert(params.jobDate);\n      if (!this.transData.formBean) {\n        params.currentPage = 1;\n      }\n      var httpConfig = {\n        method: 'GET',\n        url: RESOURCE_PATH + '/selectJobStepRecord',\n        params: params\n      };\n      this.$ajax(httpConfig).then(function (resp) {\n        resp.data.forEach(function (data) {\n          if (data.scriptPath) {\n            data.scriptName = data.scriptPath.substring(data.scriptPath.lastIndexOf('/') + 1);\n          }\n          if (data.logPath) {\n            data.logName = data.logPath.substring(data.logPath.lastIndexOf('/') + 1);\n          }\n        });\n        _this3.gridData = resp.data;\n        _this3.page.total = resp.data.length;\n      });\n    },\n    /**\r\n    * 数据复选事件\r\n    **/\n    select: function select(selection) {\n      this.selection = selection;\n    },\n    /**\r\n    * 改变页码事件\r\n    **/\n    changePage: function changePage(currentPage) {\n      this.page.current = currentPage;\n      this.search();\n    },\n    /**\r\n    * 改变分页大小事件\r\n    **/\n    changePageSize: function changePageSize(pageSize) {\n      this.page.size = pageSize;\n      this.search();\n    },\n    /**\r\n    * 列排序\r\n    **/\n    changeSort: function changeSort(column) {\n      var classcon = window.event.currentTarget.className;\n      var sort, order;\n      if (classcon.indexOf('ivu-icon-md-arrow-dropup') > -1) {\n        order = 'ASC';\n      } else if (classcon.indexOf('ivu-icon-md-arrow-dropdown') > -1) {\n        order = 'DESC';\n      }\n      this.formBean.order = order;\n      this.formBean.sort = column.key;\n      this.search();\n    },\n    /**\r\n    * 返回到数据视图\r\n    **/\n    cancel: function cancel() {\n      var prevTab = '';\n      if (this.transData.tabObj) {\n        prevTab = this.transData.tabObj.prevTab;\n        // prevTab = 'joblist'\n      }\n\n      if (this.transData.prevTab) {\n        prevTab = this.transData.prevTab;\n      }\n      var queryCache = {\n        formBean: this.transData.formBean,\n        currentPage: this.transData.currentPage,\n        pageSize: this.transData.pageSize\n      };\n      if (this.transData.prequeryCache) {\n        queryCache.prequeryCache = this.transData.prequeryCache;\n      }\n      var backParam = {\n        statusName: 'table',\n        prevTab: prevTab,\n        type: 'back'\n      };\n      // syncJobDetailForm\n      if (this.transData.jobStatus) {\n        queryCache.jobStatus = this.transData.jobStatus;\n      }\n      if (this.transData.curTab) {\n        backParam.statusName = this.transData.curTab;\n      }\n      if (this.transData.parentData) {\n        backParam.parentData = this.transData.parentData;\n      }\n      if (this.transData.row) {\n        backParam.row = this.transData.row;\n      }\n      this.$emit('switch', Object.assign({}, queryCache, backParam));\n    }\n  },\n  /**\r\n  * 视图挂载\r\n  **/\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"names":["utils","RESOURCE_PATH","props","transData","type","Object","default","_default","data","_this","_ref5","jobDateList","jobDate","formBean","gridData","gridColumns","title","width","key","minWidth","render","h","_ref","column","index","row","size","style","on","click","downloadLogfile","logName","_ref2","downloadScriptfile","scriptName","ellipsis","tooltip","sortable","_ref3","serverName","address","params","endTimeStr","fmtDate","endTime","etime","startTime","elapsed","str","e","Date","substring","s","second","parseInt","getTime","hourTime","minuteTime","secondTime","Math","floor","addZero","jobData","returnCode","_defineProperty","current","total","opt","_ref4","href","scriptPath","show","jobScriptParam","methods","init","search","bindData","assign","initFormBean","error","console","hisDownload","job","id","download","filename","uri","logPath","downloadAllScriptfile","param","scriptGridData","$Message","content","duration","closable","jobScriptOp","showJobScriptOp","getAllScript","_this2","currentPage","httpConfig","method","url","$ajax","then","resp","records","forEach","lastIndexOf","getStartTime","time","_this3","page","pageSize","job_record_id","length","select","selection","changePage","changePageSize","changeSort","classcon","window","event","currentTarget","className","sort","order","indexOf","cancel","prevTab","tabObj","queryCache","prequeryCache","backParam","statusName","jobStatus","curTab","parentData","$emit","mounted"],"sources":["src/view/spdb/job/jobList/Log.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Row>\r\n\t\t\t<Col span=\"24\">\r\n\t\t\t\t<div style=\"font-size:14px;font-weight: bold; color: #464c5b;margin-left:5px;\">\r\n\t\t\t\t作业日志列表\r\n\t\t\t\t&nbsp;&nbsp;平台名:{{this.transData.jobData.platform}}\r\n\t\t\t\t&nbsp;&nbsp;应用名:{{this.transData.jobData.systems}}\r\n\t\t\t\t&nbsp;&nbsp;作业名:{{this.transData.jobData.job}}\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t\t<Row>\r\n\t\t<Form :label-width=\"80\">\r\n\t\t\t<Col span=\"13\">\r\n\t\t\t&nbsp;\r\n\t\t\t</Col>\r\n\t\t\t<Col span=\"4\">\r\n\t\t\t&nbsp;\r\n\t\t\t\t<!-- <FormItem  label=\"TXDate\" >\r\n\t\t\t\t\t<DatePicker :transfer=\"true\" v-model=\"formBean.startTime\" type=\"datetime\"  @on-change=\"getStartTime\" format=\"yyyyMMdd\" placeholder=\"请选择\" ></DatePicker>\r\n\t\t\t\t</FormItem> -->\r\n\t\t\t</Col>\r\n\t\t\t<Col span=\"1\">\r\n\t\t\t&nbsp;\r\n\t\t\t</Col>\r\n\t\t\t<Col span=\"6\">\r\n\t\t\t\t<Button type=\"primary\" icon=\"ios-search\" @click=\"search\" style=\"\">&nbsp;&nbsp;查询</Button>\r\n\t\t\t\t<Button type=\"primary\" @click=\"showJobScriptOp\" style=\"\">所有脚本</Button>\r\n        <!-- <Button type=\"primary\" icon=\"md-cloud-download\" @click=\"hisDownload\" style=\"\">下载</Button> -->\r\n\t\t\t\t<Button type=\"primary\" icon=\"ios-arrow-back\" @click=\"cancel\" style=\"\">返回</Button>\r\n\t\t\t</Col>\r\n\t\t</Form>\r\n\t\t</Row>\r\n\t\t<div class=\"spdb-table\">\r\n\t\t\t<Table border :columns=\"gridColumns\" :data=\"gridData\" stripe >\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t<div class=\"spdb-page\">\r\n\t\t\t<Page :total=\"page.total\" :current=\"page.current\" :page-size=\"page.size\" :page-size-opts=\"page.opt\" show-total show-sizer show-elevat show-elevator @on-change=\"changePage\" @on-page-size-change=\"changePageSize\"></Page>\r\n\t\t</div>\r\n\t\t<Modal id=\"jobScript\"\r\n\t\t\tv-model=\"jobScriptOp.show\"\r\n\t\t\ttitle=\"所有脚本\"\r\n\t\t\twidth='50%'\r\n\t\t\t:mask-closable=\"false\"\r\n\t\t\t>\r\n\t\t\t<div>\r\n      <!--\r\n\t\t\t\t<div class=\"spdb-toolbar\">\r\n\t\t\t\t\t<Button type=\"primary\" icon=\"md-cloud-download\" @click=\"downloadAllScriptfile\">下载所有脚本</Button>\r\n\t\t\t\t</div>-->\r\n\t\t\t\t<div class=\"spdb-table\" >\r\n\t\t\t\t\t<Table border :columns=\"scriptGridColumns\" :data=\"scriptGridData\" stripe>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div slot=\"footer\">\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport utils from '@/common/utils'\r\nconst RESOURCE_PATH = '/udsJobStepRecord'\r\n\r\nexport default {\r\n  props: {\r\n    transData: {\r\n      type: Object,\r\n      default: function () {\r\n    \t\t\treturn {}\r\n      }\r\n    }\r\n  \t},\r\n  data () {\r\n    return {\r\n      jobDateList: [],\r\n      jobDate: [],\r\n      formBean: {},\r\n      gridData: [],\r\n      gridColumns: [\r\n        {\r\n          title: '执行次数',\r\n          width: 110,\r\n          key: 'numTimes'\r\n        },\r\n        {\r\n          title: 'log',\r\n          // key: 'logName',\r\n          key: 'logName',\r\n          minWidth: 150,\r\n          render: (h, { column, index, row }) => {\r\n            return h('div', [\r\n              h('a', {\r\n                props: {\r\n                  size: 'small',\r\n                  type: 'info'\r\n                },\r\n                style: {\r\n                  // marginRight: '5px'\r\n                  // color: \"green\"\r\n                },\r\n                // href: row.logDir,\r\n                on: {\r\n                  click: () => {\r\n                    // let id = row.job\r\n                    // this.formBean.logPath = row.logPath\r\n                    // this.formBean.logDir = row.logDir\r\n                    // this.formBean.job = row.job\r\n                    // this.formBean.serverName = row.serverName\r\n                    this.downloadLogfile(row)\r\n                  }\r\n                }\r\n              }, row.logName)\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: 'script',\r\n          // key: 'scriptName',\r\n          key: 'scriptName',\r\n          minWidth: 140,\r\n          render: (h, { column, index, row }) => {\r\n            return h('div', [\r\n              h('a', {\r\n                props: {\r\n                  size: 'small',\r\n                  type: 'info'\r\n                },\r\n                style: {\r\n                  // marginRight: '5px'\r\n                  // color: \"green\"\r\n                },\r\n                // href: row.scriptPath,\r\n                on: {\r\n                  click: () => {\r\n                    // let id = row.job\r\n                    // this.formBean.scriptPath = row.scriptPath\r\n                    // this.formBean.job = row.job\r\n                    // this.formBean.platform = row.platform\r\n                    // this.formBean.system = row.system\r\n                    // this.formBean.scriptDir = row.scriptDir\r\n                    // this.formBean.serverName = row.serverName\r\n                    this.downloadScriptfile(row)\r\n                  }\r\n                }\r\n              }, row.scriptName)\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '执行节点',\r\n          ellipsis: false,\r\n          tooltip: true,\r\n          width: 120,\r\n          sortable: true,\r\n          key: 'serverName',\r\n          render: (h, { column, index, row }) => {\r\n            return h('div', [\r\n              h('span', {\r\n                props: {\r\n                  size: 'small',\r\n                  type: 'info'\r\n                },\r\n                style: {\r\n                  // marginRight: '5px'\r\n                }\r\n              }, row.serverName ? row.serverName : row.address)\r\n            ])\r\n          }\r\n        },\r\n        /* {\r\n\t\t\t\t\ttitle: '所有脚本',\r\n\t\t\t\t\tkey: '',\r\n\t\t\t\t\twidth: 90,\r\n\t\t\t\t\trender: (h, {column,index, row}) => {\r\n\t\t\t\t\t\treturn h('div', [\r\n\t\t\t\t\t\t\th('a', {\r\n\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t//marginRight: '5px'\r\n\t\t\t\t\t\t\t\t\t//color: \"green\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\tclick :() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.showJobScriptOp(row);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, \"查看\")\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t}, */\r\n        {\r\n          title: '开始时间',\r\n          width: 175,\r\n          key: 'startTime'\r\n        },\r\n        {\r\n          title: '结束时间',\r\n          width: 175,\r\n          key: 'endTime',\r\n          render: (h, params) => {\r\n            let endTimeStr = ''\r\n            endTimeStr = utils.fmtDate(params.row.endTime, 'yyyy')\r\n            if (endTimeStr == '2099') {\r\n              endTimeStr = ''\r\n            } else {\r\n              endTimeStr = params.row.endTime\r\n            }\r\n            // alert(endTimeStr);\r\n            return h('div', {\r\n              props: {\r\n              }\r\n            }, endTimeStr)\r\n          }\r\n        },\r\n        {\r\n          title: '耗时',\r\n          width: 120,\r\n          key: 'endTime',\r\n          render: (h, params) => {\r\n            let etime = null\r\n            let startTime = null\r\n            let elapsed = ''\r\n            let str = utils.fmtDate(params.row.endTime, 'yyyy')\r\n            if (str == '2099') {\r\n              elapsed = ''\r\n            } else {\r\n              etime = utils.fmtDate(params.row.endTime, 'yyyyMMdd hh:mm:ss')\r\n              startTime = utils.fmtDate(params.row.startTime, 'yyyyMMdd hh:mm:ss')\r\n              let e = new Date(etime.substring(0, 4) + '/' + etime.substring(4, 6) + '/' + etime.substring(6))\r\n\t\t        \tlet s = new Date(startTime.substring(0, 4) + '/' + startTime.substring(4, 6) + '/' + startTime.substring(6))\r\n              // let ss=\r\n              let second = parseInt((e.getTime() -  s.getTime())) / 1000\r\n              let hourTime = 0\r\n              let minuteTime = 0\r\n              let secondTime = 0\r\n              if (second > 60) {\r\n                minuteTime = Math.floor(second / 60)\r\n                secondTime = Math.floor(second % 60)\r\n                if (minuteTime >= 60) {\r\n                  hourTime = Math.floor(minuteTime / 60)\r\n                  minuteTime = Math.floor(minuteTime % 60)\r\n                } else {\r\n                  hourTime = 0\r\n                }\r\n              } else {\r\n                hourTime = 0\r\n                minuteTime = 0\r\n                if (second == 60) {\r\n                  minuteTime = 1\r\n                  secondTime = 0\r\n                } else {\r\n                  secondTime = second\r\n                }\r\n              }\r\n              elapsed = this.addZero(hourTime) + ':' + this.addZero(minuteTime) + ':' + this.addZero(secondTime)\r\n            }\r\n            return h('div', {\r\n              props: {\r\n              }\r\n            }, elapsed)\r\n          }\r\n        },\r\n        {\r\n          title: 'TXDate',\r\n          width: 120,\r\n          key: 'jobDate',\r\n          render: (h, params) => {\r\n            return h('div', {\r\n              props: {\r\n              }\r\n            }, this.transData.jobData.jobDate)\r\n          }\r\n        },\r\n        // {\r\n        // \ttitle: 'returnCode',\r\n        // \twidth: 110,\r\n        // \tkey: 'returnCode',\r\n        // },\r\n        {\r\n          title: '运行状态',\r\n          width: 110,\r\n          key: 'returnCode',\r\n          render: (h, params) => {\r\n            let str = ''\r\n            let endTimeStr = ''\r\n            endTimeStr = utils.fmtDate(params.row.endTime, 'yyyy')\r\n            if (params.row.returnCode == 0) {\r\n              str = 'Done'\r\n            } else {\r\n              str = 'Failed'\r\n            }\r\n            if (endTimeStr == '2099') {\r\n              str = 'Running'\r\n            }\r\n            return h('div', {\r\n              props: {\r\n              }\r\n            }, str)\r\n          }\r\n        }\r\n\r\n      ],\r\n      gridData: [],\r\n      selection: [],\r\n      page: {\r\n        current: 1,\r\n        total: 10,\r\n        size: 10,\r\n        opt: [10, 50, 100]\r\n      },\r\n      ruleValidate: {\r\n      },\r\n      scriptGridData: [],\r\n      scriptGridColumns: [\r\n\t\t\t\t /* {\r\n\t\t\t\t \ttype: 'index',\r\n\t\t\t\t \ttitle: ' ',\r\n\t\t\t\t \twidth: 80,\r\n\t\t\t\t \t//align: 'center',\r\n\t\t\t\t \tfixed: 'left'\r\n\t\t\t\t }, */\r\n        {\r\n          title: '脚本名',\r\n          key: 'scriptName'\r\n        },\r\n        {\r\n          title: '执行参数',\r\n          minWidth: 150,\r\n          key: 'parameter'\r\n        },\r\n        {\r\n          title: '执行步数',\r\n          width: 100,\r\n          key: 'stepNum'\r\n        },\r\n        {\r\n          title: '操作',\r\n          width: 90,\r\n          render: (h, { column, index, row }) => {\r\n            return h('div', [\r\n              h('Button', {\r\n                props: {\r\n                  size: 'small',\r\n                  type: 'primary'\r\n                },\r\n                style: {\r\n                  // marginRight: '5px'\r\n                  // color: \"green\"\r\n                },\r\n                href: row.scriptPath,\r\n                on: {\r\n                  click: () => {\r\n                    // this.formBean.scriptName = row.fileName\r\n                    // this.formBean.job = this.transData.jobData.job\r\n                    // this.formBean.platform = this.transData.jobData.platform\r\n                    // this.formBean.system = this.transData.jobData.system\r\n                    // this.formBean.scriptDir = row.path\r\n                    // this.formBean.serverName = this.transData.jobData.serverName\r\n                    this.downloadScriptfile(row)\r\n                  }\r\n                }\r\n              }, '下载')\r\n            ])\r\n          }\r\n        }\r\n\r\n      ],\r\n      jobScriptOp: {\r\n        show: false,\r\n        jobScriptParam: {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n\t\t * 初始化\r\n\t\t **/\r\n    init () {\r\n      this.search()\r\n    },\r\n    /**\r\n\t\t * 如果传过来的有初始数据则进行数据绑定\r\n\t\t **/\r\n    bindData () {\r\n      try {\r\n        this.formBean = Object.assign({}, this.transData.initFormBean)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    hisDownload () {\r\n      let params = {}\r\n      Object.assign(params, this.formBean)\r\n      params.job = this.transData.id\r\n      let startTime = new Date(this.formBean.startTime)\r\n      params.jobDate = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd')\r\n      if (this.formBean.startTime == '') {\r\n        params.jobDate = null\r\n      }\r\n      params.type = 'excel'\r\n      // utils.download(RESOURCE_PATH + '/downLoad', params);\r\n      utils.download(RESOURCE_PATH + '/logHisDownLoad', params)\r\n    },\r\n    downloadLogfile (row) {\r\n      let params = {}\r\n      // Object.assign(params, this.formBean)\r\n      params.filename = row.logName\r\n      params.uri = row.logPath\r\n      utils.download('/file/loadFile', params)\r\n    },\r\n    downloadScriptfile (row) {\r\n      let params = {}\r\n      // Object.assign(params, this.formBean)\r\n      params.filename = row.scriptName\r\n      params.uri = row.scriptPath\r\n      utils.download('/file/loadFile', params)\r\n    },\r\n    downloadAllScriptfile (param) {\r\n      let params = {}\r\n      if (!this.scriptGridData) {\r\n        this.$Message.error({\r\n          content: '无脚本可下载!',\r\n          duration: 10,\r\n          closable: true\r\n        })\r\n        return\r\n      }\r\n      Object.assign(params, this.jobScriptOp.jobScriptParam)\r\n      // params.scriptName = scriptName\r\n      utils.download(RESOURCE_PATH + '/downloadAllScriptfile', params)\r\n    },\r\n    showJobScriptOp () {\r\n      this.jobScriptOp.show = true\r\n      this.jobScriptOp.jobScriptParam = this.transData.jobData\r\n      this.getAllScript(this.transData.jobData)\r\n    },\r\n    getAllScript (param) {\r\n      let params = {}\r\n      Object.assign(params, param)\r\n      // params.currentPage = this.page.current;\r\n      // params.pageSize = this.page.size;\r\n      // params.job = this.transData.id;\r\n      if (!this.transData.formBean) {\r\n        params.currentPage = 1\r\n      }\r\n      let httpConfig = {\r\n        method: 'GET',\r\n        url: '/udsJobStep/selectJobStepList',\r\n        params: params\r\n      }\r\n\r\n      this.$ajax(httpConfig)\r\n        .then(resp => {\r\n          // this.jobScriptOp.path = resp.data.path\r\n          resp.data.records.forEach(data => {\r\n            if (data.scriptPath) {\r\n              data.scriptName = data.scriptPath.substring(data.scriptPath.lastIndexOf('/') + 1)\r\n            }\r\n          })\r\n          this.scriptGridData = resp.data.records\r\n        })\r\n    },\r\n    getStartTime (startTime) {\r\n\r\n      // this.formBean.startTime= startTime;\r\n      // let etime=new Date(startTime);\r\n      // let num= parseInt((etime.getTime() -  startTime.getTime())/1000/60/60/24);\r\n      // if(num<0||num>30){\r\n      // \tthis.$Message.error('查询时间应在30天之内');\r\n      // \treturn\r\n      // }\r\n      // search();\r\n    },\r\n    addZero (time) {\r\n      let str = time\r\n      if (time < 10) {\r\n        str = '0' + time\r\n      }\r\n      return str\r\n    },\r\n    /**\r\n\t\t * 查询\r\n\t\t **/\r\n    search () {\r\n      let params = {}\r\n      // Object.assign(params, this.formBean)\r\n      params.currentPage = this.page.current\r\n      params.pageSize = this.page.size\r\n      params.job_record_id = this.transData.id\r\n      // let startTime = new Date(this.formBean.startTime)\r\n      // let etime = new Date()\r\n      // let num = parseInt(((etime.getTime() -  startTime.getTime())) / 1000 / 60 / 60 / 24)\r\n      // if (num < 0 || num > 60) {\r\n      //   this.$Message.error('查询时间应在60天之内')\r\n      //   return\r\n      // }\r\n      // if (this.formBean.startTime == null || this.formBean.startTime == '') {\r\n      //   params.jobDate = null\r\n      // } else {\r\n      //   let str = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd')\r\n      //   params.jobDate = utils.fmtDate(this.formBean.startTime, 'yyyyMMdd')\r\n      // }\r\n      // alert(params.jobDate);\r\n      if (!this.transData.formBean) {\r\n        params.currentPage = 1\r\n      }\r\n      let httpConfig = {\r\n        method: 'GET',\r\n        url: RESOURCE_PATH + '/selectJobStepRecord',\r\n        params: params\r\n      }\r\n      this.$ajax(httpConfig)\r\n        .then(resp => {\r\n          resp.data.forEach(data => {\r\n            if (data.scriptPath) {\r\n              data.scriptName = data.scriptPath.substring(data.scriptPath.lastIndexOf('/') + 1)\r\n            }\r\n            if (data.logPath) {\r\n              data.logName = data.logPath.substring(data.logPath.lastIndexOf('/') + 1)\r\n            }\r\n          })\r\n          this.gridData = resp.data\r\n          this.page.total = resp.data.length\r\n        })\r\n    },\r\n\r\n    /**\r\n\t\t * 数据复选事件\r\n\t\t **/\r\n    select (selection) {\r\n      this.selection = selection\r\n    },\r\n    /**\r\n\t\t * 改变页码事件\r\n\t\t **/\r\n    changePage (currentPage) {\r\n      this.page.current = currentPage\r\n      this.search()\r\n    },\r\n    /**\r\n\t\t * 改变分页大小事件\r\n\t\t **/\r\n    changePageSize (pageSize) {\r\n      this.page.size = pageSize\r\n      this.search()\r\n    },\r\n    /**\r\n\t\t * 列排序\r\n\t\t **/\r\n    changeSort (column) {\r\n      let classcon = window.event.currentTarget.className\r\n      let sort, order\r\n      if (classcon.indexOf('ivu-icon-md-arrow-dropup') > -1) {\r\n        order = 'ASC'\r\n      } else if (classcon.indexOf('ivu-icon-md-arrow-dropdown') > -1) {\r\n        order = 'DESC'\r\n      }\r\n      this.formBean.order = order\r\n      this.formBean.sort = column.key\r\n      this.search()\r\n    },\r\n    /**\r\n\t\t * 返回到数据视图\r\n\t\t **/\r\n    cancel () {\r\n      let prevTab = ''\r\n      if (this.transData.tabObj) {\r\n        prevTab = this.transData.tabObj.prevTab\r\n        // prevTab = 'joblist'\r\n      }\r\n      if (this.transData.prevTab) {\r\n        prevTab = this.transData.prevTab\r\n      }\r\n      let queryCache = { formBean: this.transData.formBean, currentPage: this.transData.currentPage, pageSize: this.transData.pageSize }\r\n      if (this.transData.prequeryCache) {\r\n        queryCache.prequeryCache = this.transData.prequeryCache\r\n      }\r\n      let backParam = { statusName: 'table', prevTab: prevTab, type: 'back' }\r\n      // syncJobDetailForm\r\n      if (this.transData.jobStatus) {\r\n        queryCache.jobStatus = this.transData.jobStatus\r\n      }\r\n      if (this.transData.curTab) {\r\n        backParam.statusName = this.transData.curTab\r\n      }\r\n      if (this.transData.parentData) {\r\n        backParam.parentData = this.transData.parentData\r\n      }\r\n      if (this.transData.row) {\r\n        backParam.row = this.transData.row\r\n      }\r\n      this.$emit('switch', Object.assign({}, queryCache, backParam))\r\n    }\r\n  },\r\n  /**\r\n\t * 视图挂载\r\n\t **/\r\n  mounted () {\r\n    this.init()\r\n  }\r\n}\r\n\r\n</script>\r\n"],"mappings":"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"}]}