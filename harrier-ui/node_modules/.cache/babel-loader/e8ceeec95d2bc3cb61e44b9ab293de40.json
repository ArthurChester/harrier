{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\main\\components\\side-menu\\side-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\main\\components\\side-menu\\side-menu.vue","mtime":1681468306464},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport SideMenuItem from \"./side-menu-item.vue\";\nimport CollapsedMenu from \"./collapsed-menu.vue\";\nimport { getUnion } from '@/libs/tools';\nimport mixin from \"./mixin\";\nexport default {\n  name: 'SideMenu',\n  mixins: [mixin],\n  components: {\n    SideMenuItem: SideMenuItem,\n    CollapsedMenu: CollapsedMenu\n  },\n  props: {\n    menuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    collapsed: {\n      type: Boolean\n    },\n    theme: {\n      type: String,\n      default: 'dark'\n    },\n    rootIconSize: {\n      type: Number,\n      default: 20\n    },\n    iconSize: {\n      type: Number,\n      default: 16\n    },\n    accordion: Boolean,\n    activeName: {\n      type: String,\n      default: ''\n    },\n    openNames: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      openedNames: []\n    };\n  },\n  methods: {\n    handleSelect: function handleSelect(name) {\n      this.$emit('on-select', name);\n    },\n    getOpenedNamesByActiveName: function getOpenedNamesByActiveName(name) {\n      return this.$route.matched.map(function (item) {\n        return item.name;\n      }).filter(function (item) {\n        return item !== name;\n      });\n    },\n    updateOpenName: function updateOpenName(name) {\n      if (name === this.$config.homeName) this.openedNames = [];else this.openedNames = this.getOpenedNamesByActiveName(name);\n    }\n  },\n  computed: {\n    textColor: function textColor() {\n      return this.theme === 'dark' ? '#fff' : '#495060';\n    }\n  },\n  watch: {\n    activeName: function activeName(name) {\n      if (this.accordion) this.openedNames = this.getOpenedNamesByActiveName(name);else this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name));\n    },\n    openNames: function openNames(newNames) {\n      this.openedNames = newNames;\n    },\n    openedNames: function openedNames() {\n      var _this = this;\n      this.$nextTick(function () {\n        _this.$refs.menu.updateOpened();\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name));\n  }\n};",{"version":3,"names":["SideMenuItem","CollapsedMenu","getUnion","mixin","name","mixins","components","props","menuList","type","Array","default","_default","collapsed","Boolean","theme","String","rootIconSize","Number","iconSize","accordion","activeName","openNames","data","openedNames","methods","handleSelect","$emit","getOpenedNamesByActiveName","$route","matched","map","item","filter","updateOpenName","$config","homeName","computed","textColor","watch","newNames","_this","$nextTick","$refs","menu","updateOpened","mounted"],"sources":["src/components/main/components/side-menu/side-menu.vue"],"sourcesContent":["<template>\r\n  <div class=\"side-menu-wrapper\">\r\n    <slot></slot>\r\n    <Menu ref=\"menu\" v-show=\"!collapsed\" :active-name=\"activeName\" :open-names=\"openedNames\" :accordion=\"accordion\" :theme=\"theme\" width=\"auto\" @on-select=\"handleSelect\">\r\n      <template v-for=\"item in menuList\">\r\n        <template v-if=\"item.children && item.children.length === 1\">\r\n          <side-menu-item v-if=\"showChildren(item)\" :key=\"`menu-${item.name}`\" :parent-item=\"item\"></side-menu-item>\r\n          <menu-item v-else :name=\"getNameOrHref(item, true)\" :key=\"`menu-${item.children[0].name}`\"><common-icon :type=\"item.children[0].icon || ''\"/><span>{{ showTitle(item.children[0]) }}</span></menu-item>\r\n        </template>\r\n        <template v-else>\r\n          <side-menu-item v-if=\"showChildren(item)\" :key=\"`menu-${item.name}`\" :parent-item=\"item\"></side-menu-item>\r\n          <menu-item v-else :name=\"getNameOrHref(item)\" :key=\"`menu-${item.name}`\"><common-icon :type=\"item.icon || ''\"/><span>{{ showTitle(item) }}</span></menu-item>\r\n        </template>\r\n      </template>\r\n    </Menu>\r\n    <div class=\"menu-collapsed\" v-show=\"collapsed\" :list=\"menuList\">\r\n      <template v-for=\"item in menuList\">\r\n        <collapsed-menu v-if=\"item.children && item.children.length > 1\" @on-click=\"handleSelect\" hide-title :root-icon-size=\"rootIconSize\" :icon-size=\"iconSize\" :theme=\"theme\" :parent-item=\"item\" :key=\"`drop-menu-${item.name}`\"></collapsed-menu>\r\n        <Tooltip transfer v-else :content=\"showTitle(item.children && item.children[0] ? item.children[0] : item)\" placement=\"right\" :key=\"`drop-menu-${item.name}`\">\r\n          <a @click=\"handleSelect(getNameOrHref(item, true))\" class=\"drop-menu-a\" :style=\"{textAlign: 'center'}\"><common-icon :size=\"rootIconSize\" :color=\"textColor\" :type=\"item.icon || (item.children && item.children[0].icon)\"/></a>\r\n        </Tooltip>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport SideMenuItem from './side-menu-item.vue'\r\nimport CollapsedMenu from './collapsed-menu.vue'\r\nimport { getUnion } from '@/libs/tools'\r\nimport mixin from './mixin'\r\n\r\nexport default {\r\n  name: 'SideMenu',\r\n  mixins: [ mixin ],\r\n  components: {\r\n    SideMenuItem,\r\n    CollapsedMenu\r\n  },\r\n  props: {\r\n    menuList: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    collapsed: {\r\n      type: Boolean\r\n    },\r\n    theme: {\r\n      type: String,\r\n      default: 'dark'\r\n    },\r\n    rootIconSize: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    iconSize: {\r\n      type: Number,\r\n      default: 16\r\n    },\r\n    accordion: Boolean,\r\n    activeName: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    openNames: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      openedNames: []\r\n    }\r\n  },\r\n  methods: {\r\n    handleSelect (name) {\r\n      this.$emit('on-select', name)\r\n    },\r\n    getOpenedNamesByActiveName (name) {\r\n      return this.$route.matched.map(item => item.name).filter(item => item !== name)\r\n    },\r\n    updateOpenName (name) {\r\n      if (name === this.$config.homeName) this.openedNames = []\r\n      else this.openedNames = this.getOpenedNamesByActiveName(name)\r\n    }\r\n  },\r\n  computed: {\r\n    textColor () {\r\n      return this.theme === 'dark' ? '#fff' : '#495060'\r\n    }\r\n  },\r\n  watch: {\r\n    activeName (name) {\r\n      if (this.accordion) this.openedNames = this.getOpenedNamesByActiveName(name)\r\n      else this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name))\r\n    },\r\n    openNames (newNames) {\r\n      this.openedNames = newNames\r\n    },\r\n    openedNames () {\r\n      this.$nextTick(() => {\r\n        this.$refs.menu.updateOpened()\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name))\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n@import './side-menu.less';\r\n</style>\r\n"],"mappings":";;AA0BA,OAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,MAAA,GAAAF,KAAA;EACAG,UAAA;IACAN,YAAA,EAAAA,YAAA;IACAC,aAAA,EAAAA;EACA;EACAM,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,SAAA;MACAJ,IAAA,EAAAK;IACA;IACAC,KAAA;MACAN,IAAA,EAAAO,MAAA;MACAL,OAAA;IACA;IACAM,YAAA;MACAR,IAAA,EAAAS,MAAA;MACAP,OAAA;IACA;IACAQ,QAAA;MACAV,IAAA,EAAAS,MAAA;MACAP,OAAA;IACA;IACAS,SAAA,EAAAN,OAAA;IACAO,UAAA;MACAZ,IAAA,EAAAO,MAAA;MACAL,OAAA;IACA;IACAW,SAAA;MACAb,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;EACA;EACAW,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAAtB,IAAA;MACA,KAAAuB,KAAA,cAAAvB,IAAA;IACA;IACAwB,0BAAA,WAAAA,2BAAAxB,IAAA;MACA,YAAAyB,MAAA,CAAAC,OAAA,CAAAC,GAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAA5B,IAAA;MAAA,GAAA6B,MAAA,WAAAD,IAAA;QAAA,OAAAA,IAAA,KAAA5B,IAAA;MAAA;IACA;IACA8B,cAAA,WAAAA,eAAA9B,IAAA;MACA,IAAAA,IAAA,UAAA+B,OAAA,CAAAC,QAAA,OAAAZ,WAAA,WACA,KAAAA,WAAA,QAAAI,0BAAA,CAAAxB,IAAA;IACA;EACA;EACAiC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAvB,KAAA;IACA;EACA;EACAwB,KAAA;IACAlB,UAAA,WAAAA,WAAAjB,IAAA;MACA,SAAAgB,SAAA,OAAAI,WAAA,QAAAI,0BAAA,CAAAxB,IAAA,OACA,KAAAoB,WAAA,GAAAtB,QAAA,MAAAsB,WAAA,OAAAI,0BAAA,CAAAxB,IAAA;IACA;IACAkB,SAAA,WAAAA,UAAAkB,QAAA;MACA,KAAAhB,WAAA,GAAAgB,QAAA;IACA;IACAhB,WAAA,WAAAA,YAAA;MAAA,IAAAiB,KAAA;MACA,KAAAC,SAAA;QACAD,KAAA,CAAAE,KAAA,CAAAC,IAAA,CAAAC,YAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAtB,WAAA,GAAAtB,QAAA,MAAAsB,WAAA,OAAAI,0BAAA,CAAAxB,IAAA;EACA;AACA"}]}