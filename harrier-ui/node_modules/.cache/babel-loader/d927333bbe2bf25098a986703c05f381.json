{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\common\\ajax.js","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\common\\ajax.js","mtime":1681468306440},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport axios from 'axios';\nimport qs from 'qs';\nimport env from \"../config\";\nimport Cookies from 'js-cookie';\nimport Vue from 'vue';\nvar axiosIns = axios.create();\naxiosIns.defaults.baseURL = env.baseUrl.dev;\n// 添加请求拦截器\naxiosIns.interceptors.request.use(function (config) {\n  config.timeout = 30000;\n  config.withCredentials = true;\n  if (['post', 'put'].includes(config.method.trim().toLowerCase())) {\n    if (config.contentType && config.contentType === 'json') {\n      config.headers['Content-Type'] = 'application/json';\n      config.data = JSON.stringify(config.data);\n    } else if (config.data && config.data.toString() !== '[object FormData]') {\n      config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      config.data = qs.stringify(config.data, {\n        arrayFormat: 'brackets'\n      });\n    }\n    // } else {\n    //   config.headers['Content-Type'] = 'application/json'\n    //   config.data = JSON.stringify(config.data)\n  }\n\n  var token = Cookies.get('token');\n  if (token) {\n    config.headers['token'] = token;\n  }\n  return config;\n}, function (error) {\n  // 对请求错误做些什么\n  console.log('请求错误');\n  return Promise.reject(error);\n});\nexport default axiosIns;",{"version":3,"names":["axios","qs","env","Cookies","Vue","axiosIns","create","defaults","baseURL","baseUrl","dev","interceptors","request","use","config","timeout","withCredentials","includes","method","trim","toLowerCase","contentType","headers","data","JSON","stringify","toString","arrayFormat","token","get","error","console","log","Promise","reject"],"sources":["D:/WorkSpace/IdeaProjects/harrier/harrier-ui/src/common/ajax.js"],"sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\nimport env from '../config'\r\nimport Cookies from 'js-cookie'\r\nimport Vue from 'vue'\r\n\r\nlet axiosIns = axios.create()\r\naxiosIns.defaults.baseURL = env.baseUrl.dev\r\n// 添加请求拦截器\r\naxiosIns.interceptors.request.use(\r\n  config => {\r\n    config.timeout = 30000\r\n    config.withCredentials = true\r\n    if (['post', 'put'].includes(config.method.trim().toLowerCase())) {\r\n      if (config.contentType && config.contentType === 'json') {\r\n        config.headers['Content-Type'] = 'application/json'\r\n        config.data = JSON.stringify(config.data)\r\n      } else if (config.data && config.data.toString() !== '[object FormData]') {\r\n        config.headers['Content-Type'] = 'application/x-www-form-urlencoded'\r\n        config.data = qs.stringify(config.data, { arrayFormat: 'brackets' })\r\n      }\r\n    // } else {\r\n    //   config.headers['Content-Type'] = 'application/json'\r\n    //   config.data = JSON.stringify(config.data)\r\n    }\r\n    const token = Cookies.get('token')\r\n    if (token) {\r\n      config.headers['token'] = token\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // 对请求错误做些什么\r\n    console.log('请求错误')\r\n    return Promise.reject(error)\r\n  }\r\n)\r\nexport default axiosIns\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,IAAI;AACnB,OAAOC,GAAG;AACV,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,GAAG,MAAM,KAAK;AAErB,IAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAM,CAAC,CAAC;AAC7BD,QAAQ,CAACE,QAAQ,CAACC,OAAO,GAAGN,GAAG,CAACO,OAAO,CAACC,GAAG;AAC3C;AACAL,QAAQ,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/B,UAAAC,MAAM,EAAI;EACRA,MAAM,CAACC,OAAO,GAAG,KAAK;EACtBD,MAAM,CAACE,eAAe,GAAG,IAAI;EAC7B,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAACC,QAAQ,CAACH,MAAM,CAACI,MAAM,CAACC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE;IAChE,IAAIN,MAAM,CAACO,WAAW,IAAIP,MAAM,CAACO,WAAW,KAAK,MAAM,EAAE;MACvDP,MAAM,CAACQ,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;MACnDR,MAAM,CAACS,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACX,MAAM,CAACS,IAAI,CAAC;IAC3C,CAAC,MAAM,IAAIT,MAAM,CAACS,IAAI,IAAIT,MAAM,CAACS,IAAI,CAACG,QAAQ,CAAC,CAAC,KAAK,mBAAmB,EAAE;MACxEZ,MAAM,CAACQ,OAAO,CAAC,cAAc,CAAC,GAAG,mCAAmC;MACpER,MAAM,CAACS,IAAI,GAAGtB,EAAE,CAACwB,SAAS,CAACX,MAAM,CAACS,IAAI,EAAE;QAAEI,WAAW,EAAE;MAAW,CAAC,CAAC;IACtE;IACF;IACA;IACA;EACA;;EACA,IAAMC,KAAK,GAAGzB,OAAO,CAAC0B,GAAG,CAAC,OAAO,CAAC;EAClC,IAAID,KAAK,EAAE;IACTd,MAAM,CAACQ,OAAO,CAAC,OAAO,CAAC,GAAGM,KAAK;EACjC;EACA,OAAOd,MAAM;AACf,CAAC,EACD,UAAAgB,KAAK,EAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EACnB,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AACD,eAAezB,QAAQ"}]}