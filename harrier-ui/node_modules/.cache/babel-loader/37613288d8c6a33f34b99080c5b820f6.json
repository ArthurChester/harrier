{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\authority\\role\\Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\authority\\role\\Form.vue","mtime":1681468306530},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nexport default {\n  props: {\n    transData: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      formBean: {},\n      loading: false,\n      formRule: {\n        roleName: [{\n          required: true,\n          message: '请输入角色名称！'\n        }]\n        // role_code: [\n        //   { required: true, message: '请输入角色编码！' }\n        // ]\n      }\n    };\n  },\n\n  methods: {\n    init: function init() {\n      var _this = this;\n      var id = this.transData.id;\n      if (id) {\n        var reqConfig = {\n          method: 'GET',\n          url: \"/role/\".concat(id)\n        };\n        this.$ajax(reqConfig).then(function (resp) {\n          _this.formBean = resp.data;\n          _this.formBean.roleName = _this.formBean.roleName.replace('ROLE_', '');\n        });\n      }\n    },\n    save: function save() {\n      var _this2 = this;\n      this.$refs.roleForm.validate(function (valid) {\n        if (!valid) return;\n        var reqConfig = {};\n        var data = Object.assign({}, _this2.formBean);\n        reqConfig.data = data;\n        delete reqConfig.data.createTime;\n        delete reqConfig.data.updateTime;\n        if (_this2.formBean.roleId) {\n          reqConfig.method = 'PUT';\n          reqConfig.url = \"/role/\".concat(data.roleId, \"/update\");\n        } else {\n          if (reqConfig.data.roleName) {\n            // reqConfig.data.createUser = 'test'\n            // reqConfig.data.updateUser = 'test'\n            reqConfig.data.isEnable = true;\n          }\n          reqConfig.method = 'POST';\n          reqConfig.url = '/role/addRole';\n        }\n        // let roleCode = 'ROLE_'.concat(data.role_code)\n        // reqConfig.data.role_code = roleCode\n        _this2.loading = true;\n        _this2.$ajax(reqConfig).then(function (resp) {\n          _this2.cancel();\n        });\n      });\n    },\n    cancel: function cancel() {\n      var queryCache = {\n        searchBean: this.transData.searchBean,\n        currentPage: this.transData.currentPage,\n        pageSize: this.transData.pageSize\n      };\n      this.$emit('exit', Object.assign({}, queryCache));\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"names":["props","transData","type","Object","default","_default","data","formBean","loading","formRule","roleName","required","message","methods","init","_this","id","reqConfig","method","url","concat","$ajax","then","resp","replace","save","_this2","$refs","roleForm","validate","valid","assign","createTime","updateTime","roleId","isEnable","cancel","queryCache","searchBean","currentPage","pageSize","$emit","mounted"],"sources":["src/view/spdb/authority/role/Form.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"spdb-form\">\r\n\t\t\t<Form ref=\"roleForm\" :label-width=\"100\" :model=\"formBean\" :rules=\"formRule\">\r\n\t\t\t\t<Row>\r\n\t\t\t\t<Col span=\"14\">\r\n\t\t\t\t\t<FormItem prop=\"roleName\" label=\"角色名称\">\r\n\t\t\t\t\t\t<Input v-model=\"formBean.roleName\"/>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t</Col>\r\n\t\t\t\t </Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t<Col span=\"14\">\r\n\t\t\t\t<FormItem prop=\"role_code\" label=\"角色编码\">\r\n\t\t\t\t\t<Input v-model=\"formBean.roleName\">\r\n\t\t\t\t\t\t<span slot=\"prepend\">ROLE_</span>\r\n\t\t\t\t\t</Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t</Col>\r\n\t\t\t\t </Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t<Col span=\"14\">\r\n\t\t\t\t<FormItem prop=\"remark\" label=\"描述\">\r\n\t\t\t\t\t<Input v-model=\"formBean.remark\" type=\"textarea\" :rows=\"3\"/>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t\t<div class=\"spdb-toolbar\">\r\n\t\t\t<Button type=\"primary\" :loading=\"loading\" icon=\"md-add\" @click=\"save()\">保存</Button>\r\n\t\t\t<Button type=\"primary\" icon=\"ios-redo-outline\" @click=\"cancel()\">取消</Button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    transData: {\r\n      type: Object,\r\n      default: function () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data: function () {\r\n    return {\r\n      formBean: {},\r\n      loading: false,\r\n      formRule: {\r\n\t        \troleName: [\r\n\t\t          { required: true, message: '请输入角色名称！' }\r\n\t\t        ]\r\n\t\t        // role_code: [\r\n\t\t        //   { required: true, message: '请输入角色编码！' }\r\n\t\t        // ]\r\n\t\t   }\r\n    }\r\n  },\r\n  methods: {\r\n    init: function () {\r\n      let id = this.transData.id\r\n      if (id) {\r\n        let reqConfig = {\r\n          method: 'GET',\r\n          url: `/role/${id}`\r\n        }\r\n        this.$ajax(reqConfig)\r\n          .then(resp => {\r\n    \t\t\t  this.formBean = resp.data\r\n            this.formBean.roleName = this.formBean.roleName.replace('ROLE_', '')\r\n      \t\t\t})\r\n      }\r\n    },\r\n    save: function () {\r\n      this.$refs.roleForm.validate(valid => {\r\n        if (!valid) return\r\n        let reqConfig = {}\r\n        let data = Object.assign({}, this.formBean)\r\n        reqConfig.data = data\r\n        delete reqConfig.data.createTime\r\n        delete reqConfig.data.updateTime\r\n        if (this.formBean.roleId) {\r\n          reqConfig.method = 'PUT'\r\n          reqConfig.url = `/role/${data.roleId}/update`\r\n        } else {\r\n          if (reqConfig.data.roleName) {\r\n            // reqConfig.data.createUser = 'test'\r\n            // reqConfig.data.updateUser = 'test'\r\n            reqConfig.data.isEnable = true\r\n          }\r\n          reqConfig.method = 'POST'\r\n          reqConfig.url = '/role/addRole'\r\n        }\r\n        // let roleCode = 'ROLE_'.concat(data.role_code)\r\n        // reqConfig.data.role_code = roleCode\r\n        this.loading = true\r\n        this.$ajax(reqConfig)\r\n          .then(resp => {\r\n      \t\t\t\tthis.cancel()\r\n      \t\t\t})\r\n\t     \t})\r\n    },\r\n    cancel: function () {\r\n      let queryCache = { searchBean: this.transData.searchBean, currentPage: this.transData.currentPage, pageSize: this.transData.pageSize }\r\n      this.$emit('exit', Object.assign({}, queryCache))\r\n    }\r\n  },\r\n  mounted: function () {\r\n \t\tthis.init()\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAqCA;EACAA,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,QAAA;QACAC,QAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;QAAA;QAEA;QACA;QACA;MACA;IACA;EACA;;EACAC,OAAA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,EAAA,QAAAf,SAAA,CAAAe,EAAA;MACA,IAAAA,EAAA;QACA,IAAAC,SAAA;UACAC,MAAA;UACAC,GAAA,WAAAC,MAAA,CAAAJ,EAAA;QACA;QACA,KAAAK,KAAA,CAAAJ,SAAA,EACAK,IAAA,WAAAC,IAAA;UACAR,KAAA,CAAAR,QAAA,GAAAgB,IAAA,CAAAjB,IAAA;UACAS,KAAA,CAAAR,QAAA,CAAAG,QAAA,GAAAK,KAAA,CAAAR,QAAA,CAAAG,QAAA,CAAAc,OAAA;QACA;MACA;IACA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,MAAA;MACA,KAAAC,KAAA,CAAAC,QAAA,CAAAC,QAAA,WAAAC,KAAA;QACA,KAAAA,KAAA;QACA,IAAAb,SAAA;QACA,IAAAX,IAAA,GAAAH,MAAA,CAAA4B,MAAA,KAAAL,MAAA,CAAAnB,QAAA;QACAU,SAAA,CAAAX,IAAA,GAAAA,IAAA;QACA,OAAAW,SAAA,CAAAX,IAAA,CAAA0B,UAAA;QACA,OAAAf,SAAA,CAAAX,IAAA,CAAA2B,UAAA;QACA,IAAAP,MAAA,CAAAnB,QAAA,CAAA2B,MAAA;UACAjB,SAAA,CAAAC,MAAA;UACAD,SAAA,CAAAE,GAAA,YAAAC,MAAA,CAAAd,IAAA,CAAA4B,MAAA;QACA;UACA,IAAAjB,SAAA,CAAAX,IAAA,CAAAI,QAAA;YACA;YACA;YACAO,SAAA,CAAAX,IAAA,CAAA6B,QAAA;UACA;UACAlB,SAAA,CAAAC,MAAA;UACAD,SAAA,CAAAE,GAAA;QACA;QACA;QACA;QACAO,MAAA,CAAAlB,OAAA;QACAkB,MAAA,CAAAL,KAAA,CAAAJ,SAAA,EACAK,IAAA,WAAAC,IAAA;UACAG,MAAA,CAAAU,MAAA;QACA;MACA;IACA;IACAA,MAAA,WAAAA,OAAA;MACA,IAAAC,UAAA;QAAAC,UAAA,OAAArC,SAAA,CAAAqC,UAAA;QAAAC,WAAA,OAAAtC,SAAA,CAAAsC,WAAA;QAAAC,QAAA,OAAAvC,SAAA,CAAAuC;MAAA;MACA,KAAAC,KAAA,SAAAtC,MAAA,CAAA4B,MAAA,KAAAM,UAAA;IACA;EACA;EACAK,OAAA,WAAAA,QAAA;IACA,KAAA5B,IAAA;EACA;AACA"}]}