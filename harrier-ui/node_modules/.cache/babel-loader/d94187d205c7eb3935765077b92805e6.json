{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\paste-editor\\plugins\\placeholder.js","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\paste-editor\\plugins\\placeholder.js","mtime":1681468306474},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nexport default (function (codemirror) {\n  (function (mod) {\n    mod(codemirror);\n  })(function (CodeMirror) {\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\n      var prev = old && old !== CodeMirror.Init;\n      if (val && !prev) {\n        cm.on('blur', onBlur);\n        cm.on('change', onChange);\n        cm.on('swapDoc', onChange);\n        onChange(cm);\n      } else if (!val && prev) {\n        cm.off('blur', onBlur);\n        cm.off('change', onChange);\n        cm.off('swapDoc', onChange);\n        clearPlaceholder(cm);\n        var wrapper = cm.getWrapperElement();\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '');\n      }\n      if (val && !cm.hasFocus()) onBlur(cm);\n    });\n    function clearPlaceholder(cm) {\n      if (cm.state.placeholder) {\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n        cm.state.placeholder = null;\n      }\n    }\n    function setPlaceholder(cm) {\n      clearPlaceholder(cm);\n      var elt = cm.state.placeholder = document.createElement('pre');\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;';\n      elt.style.direction = cm.getOption('direction');\n      elt.className = 'CodeMirror-placeholder';\n      var placeHolder = cm.getOption('placeholder');\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder);\n      elt.appendChild(placeHolder);\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n    }\n    function onBlur(cm) {\n      if (isEmpty(cm)) setPlaceholder(cm);\n    }\n    function onChange(cm) {\n      var wrapper = cm.getWrapperElement();\n      var empty = isEmpty(cm);\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '');\n      if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n    }\n    function isEmpty(cm) {\n      return cm.lineCount() === 1 && cm.getLine(0) === '';\n    }\n  });\n});",{"version":3,"names":["codemirror","mod","CodeMirror","defineOption","cm","val","old","prev","Init","on","onBlur","onChange","off","clearPlaceholder","wrapper","getWrapperElement","className","replace","hasFocus","state","placeholder","parentNode","removeChild","setPlaceholder","elt","document","createElement","style","cssText","direction","getOption","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","isEmpty","empty","lineCount","getLine"],"sources":["D:/WorkSpace/IdeaProjects/harrier/harrier-ui/src/components/paste-editor/plugins/placeholder.js"],"sourcesContent":["export default (codemirror) => {\r\n  (function (mod) {\r\n    mod(codemirror)\r\n  })(function (CodeMirror) {\r\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\r\n      var prev = old && old !== CodeMirror.Init\r\n      if (val && !prev) {\r\n        cm.on('blur', onBlur)\r\n        cm.on('change', onChange)\r\n        cm.on('swapDoc', onChange)\r\n        onChange(cm)\r\n      } else if (!val && prev) {\r\n        cm.off('blur', onBlur)\r\n        cm.off('change', onChange)\r\n        cm.off('swapDoc', onChange)\r\n        clearPlaceholder(cm)\r\n        var wrapper = cm.getWrapperElement()\r\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '')\r\n      }\r\n\r\n      if (val && !cm.hasFocus()) onBlur(cm)\r\n    })\r\n\r\n    function clearPlaceholder (cm) {\r\n      if (cm.state.placeholder) {\r\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder)\r\n        cm.state.placeholder = null\r\n      }\r\n    }\r\n    function setPlaceholder (cm) {\r\n      clearPlaceholder(cm)\r\n      var elt = cm.state.placeholder = document.createElement('pre')\r\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;'\r\n      elt.style.direction = cm.getOption('direction')\r\n      elt.className = 'CodeMirror-placeholder'\r\n      var placeHolder = cm.getOption('placeholder')\r\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder)\r\n      elt.appendChild(placeHolder)\r\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild)\r\n    }\r\n\r\n    function onBlur (cm) {\r\n      if (isEmpty(cm)) setPlaceholder(cm)\r\n    }\r\n    function onChange (cm) {\r\n      let wrapper = cm.getWrapperElement()\r\n      let empty = isEmpty(cm)\r\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '')\r\n\r\n      if (empty) setPlaceholder(cm)\r\n      else clearPlaceholder(cm)\r\n    }\r\n\r\n    function isEmpty (cm) {\r\n      return (cm.lineCount() === 1) && (cm.getLine(0) === '')\r\n    }\r\n  })\r\n}\r\n"],"mappings":"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"}]}