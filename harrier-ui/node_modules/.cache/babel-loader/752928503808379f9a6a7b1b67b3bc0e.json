{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\login-form\\login-form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\components\\login-form\\login-form.vue","mtime":1681468306452},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\.babelrc","mtime":1681468306354},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["export default {\n  name: 'LoginForm',\n  props: {\n    userNameRules: {\n      type: Array,\n      default: function _default() {\n        return [{\n          required: true,\n          message: '账号不能为空',\n          trigger: 'blur'\n        }];\n      }\n    },\n    passwordRules: {\n      type: Array,\n      default: function _default() {\n        return [{\n          required: true,\n          message: '密码不能为空',\n          trigger: 'blur'\n        }];\n      }\n    },\n    captchaSwitch: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      codeUrl: '',\n      form: {\n        userName: '',\n        password: ''\n      }\n    };\n  },\n  computed: {\n    rules: function rules() {\n      return {\n        userName: this.userNameRules,\n        password: this.passwordRules\n      };\n    }\n  },\n  watch: {\n    captchaSwitch: {\n      handler: function handler(newValue, oldValue) {\n        if (newValue) {\n          this.getCode();\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getCode: function getCode() {\n      var _this = this;\n      var params = {};\n      params.uuid = this.uuid;\n      var loadConfig = {\n        method: 'GET',\n        url: '/user/captchImage',\n        params: params\n      };\n      this.$ajax(loadConfig).then(function (resp) {\n        _this.codeUrl = resp.data.data.img;\n        _this.uuid = resp.data.data.uuid;\n      });\n    },\n    handleSubmit: function handleSubmit() {\n      var _this2 = this;\n      this.$refs.loginForm.validate(function (valid) {\n        if (valid) {\n          _this2.$emit('on-success-valid', {\n            userName: _this2.form.userName,\n            password: _this2.form.password,\n            code: _this2.form.code,\n            uuid: _this2.uuid\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["name","props","userNameRules","type","Array","default","_default","required","message","trigger","passwordRules","captchaSwitch","Boolean","data","codeUrl","form","userName","password","computed","rules","watch","handler","newValue","oldValue","getCode","deep","methods","_this","params","uuid","loadConfig","method","url","$ajax","then","resp","img","handleSubmit","_this2","$refs","loginForm","validate","valid","$emit","code"],"sources":["src/components/login-form/login-form.vue"],"sourcesContent":["<template>\r\n  <Form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" @keydown.enter.native=\"handleSubmit\">\r\n    <FormItem prop=\"username\">\r\n      <Input type=\"text\" size=\"large\"  v-model=\"form.userName\" icon=\"ios-person\" placeholder=\"请输入用户名\" ></Input>\r\n    </FormItem>\r\n    <FormItem prop=\"password\">\r\n      <Input type=\"password\" size=\"large\" v-model=\"form.password\" icon=\"ios-lock\" placeholder=\"请输入密码\" ></Input>\r\n    </FormItem>\r\n    <FormItem prop=\"code\" v-if=\"captchaSwitch\">\r\n            <div style=\"height: 32px;display: inline;\">\r\n\r\n      <Input v-model=\"form.code\" placeholder=\"验证码\" style=\"width:170px;display:inline-table\" icon=\"ios-bug\">\r\n      </Input>\r\n        <img :src=\"codeUrl\" @click=\"getCode\" class=\"login-code-image\" style=\"height:32px ;margin-bottom:-12px;margin-left:20px\"/>\r\n    </div>\r\n    </FormItem>\r\n    <FormItem>\r\n      <Button @click=\"handleSubmit\" type=\"primary\" long>登录</Button>\r\n    </FormItem>\r\n  </Form>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'LoginForm',\r\n  props: {\r\n    userNameRules: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { required: true, message: '账号不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    },\r\n    passwordRules: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { required: true, message: '密码不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    },\r\n    captchaSwitch: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      codeUrl: '',\r\n      form: {\r\n        userName: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    rules () {\r\n      return {\r\n        userName: this.userNameRules,\r\n        password: this.passwordRules\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    captchaSwitch: {\r\n      handler (newValue, oldValue) {\r\n        if (newValue) {\r\n          this.getCode()\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    getCode () {\r\n      let params = {}\r\n      params.uuid = this.uuid\r\n      let loadConfig = {\r\n        method: 'GET',\r\n        url: '/user/captchImage',\r\n        params: params\r\n      }\r\n      this.$ajax(loadConfig)\r\n        .then(resp => {\r\n          this.codeUrl = resp.data.data.img\r\n          this.uuid = resp.data.data.uuid\r\n        })\r\n    },\r\n    handleSubmit () {\r\n      this.$refs.loginForm.validate((valid) => {\r\n        if (valid) {\r\n          this.$emit('on-success-valid', {\r\n            userName: this.form.userName,\r\n            password: this.form.password,\r\n            code: this.form.code,\r\n            uuid: this.uuid\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.login-code-image {\r\n  height:32px ;\r\n  margin-bottom:-12px;\r\n  margin-left:20px\r\n}\r\n</style>\r\n"],"mappings":"AAsBA;EACAA,IAAA;EACAC,KAAA;IACAC,aAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAC,SAAA;QACA,QACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;MACA;IACA;IACAC,aAAA;MACAP,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAC,SAAA;QACA,QACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;MACA;IACA;IACAE,aAAA;MACAR,IAAA,EAAAS,OAAA;MACAP,OAAA;IACA;EACA;EACAQ,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,IAAA;QACAC,QAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,KAAA,WAAAA,MAAA;MACA;QACAH,QAAA,OAAAd,aAAA;QACAe,QAAA,OAAAP;MACA;IACA;EACA;EACAU,KAAA;IACAT,aAAA;MACAU,OAAA,WAAAA,QAAAC,QAAA,EAAAC,QAAA;QACA,IAAAD,QAAA;UACA,KAAAE,OAAA;QACA;MACA;MACAC,IAAA;IACA;EAEA;EACAC,OAAA;IACAF,OAAA,WAAAA,QAAA;MAAA,IAAAG,KAAA;MACA,IAAAC,MAAA;MACAA,MAAA,CAAAC,IAAA,QAAAA,IAAA;MACA,IAAAC,UAAA;QACAC,MAAA;QACAC,GAAA;QACAJ,MAAA,EAAAA;MACA;MACA,KAAAK,KAAA,CAAAH,UAAA,EACAI,IAAA,WAAAC,IAAA;QACAR,KAAA,CAAAb,OAAA,GAAAqB,IAAA,CAAAtB,IAAA,CAAAA,IAAA,CAAAuB,GAAA;QACAT,KAAA,CAAAE,IAAA,GAAAM,IAAA,CAAAtB,IAAA,CAAAA,IAAA,CAAAgB,IAAA;MACA;IACA;IACAQ,YAAA,WAAAA,aAAA;MAAA,IAAAC,MAAA;MACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACAJ,MAAA,CAAAK,KAAA;YACA3B,QAAA,EAAAsB,MAAA,CAAAvB,IAAA,CAAAC,QAAA;YACAC,QAAA,EAAAqB,MAAA,CAAAvB,IAAA,CAAAE,QAAA;YACA2B,IAAA,EAAAN,MAAA,CAAAvB,IAAA,CAAA6B,IAAA;YACAf,IAAA,EAAAS,MAAA,CAAAT;UACA;QACA;MACA;IACA;EACA;AACA"}]}