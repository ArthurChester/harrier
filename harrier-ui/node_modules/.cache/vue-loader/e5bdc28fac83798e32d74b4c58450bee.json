{"remainingRequest":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\job\\jobList\\Table.vue?vue&type=template&id=a267ae96&","dependencies":[{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\src\\view\\spdb\\job\\jobList\\Table.vue","mtime":1681468306539},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\IdeaProjects\\harrier\\harrier-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <div>\n    <div class=\"spdb-form\" style=\"margin-top:20px;\">\n      <Form ref=\"udsjobForm\" :model=\"formBean\" :label-width=\"80\" :rules=\"ruleValidate\">\n        <Row>\n          <Col span=\"3\">\n            <FormItem prop=\"platform\" label=\"平台名\">\n              <Select filterable v-model=\"formBean.platform\" @on-change=\"getSystemList\" clearable>\n                <Option v-for=\"item in platformData\" :value=\"item.value+''\" :key=\"item.value\">{{ item.label }}</Option>\n              </Select>\n            </FormItem>\n          </Col>\n          <Col span=\"3\">\n            <FormItem label=\"应用名\">\n              <Select ref=\"refsystem\" filterable v-model=\"formBean.systems\" placeholder=\"先选平台\" clearable>\n                <Option v-for=\"item in systemData\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n              </Select>\n\n            </FormItem>\n          </Col>\n          <Col span=\"3\">\n            <FormItem label=\"作业状态\">\n              <Select filterable v-model=\"formBean.lastStatus\" clearable>\n                <Option v-for=\"item in jobstatusData\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n              </Select>\n            </FormItem>\n          </Col>\n          <Col span=\"6\">\n            <FormItem label=\"作业名\">\n              <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 5}\" v-model=\"formBean.job\" placeholder=\"支持模糊查询\"/>\n            </FormItem>\n          </Col>\n          <Col span=\"1\">&nbsp;</Col>\n          <Col span=\"8\">\n            <div class=\"spdb-toolbar\">\n              <Button type=\"primary\" icon=\"ios-search\" @click=\"search\">查询</Button>\n              <Button type=\"primary\" icon=\"md-close\" @click=\"clear\">清除查询</Button>\n              <!-- <S-AuthButton type=\"primary\" icon=\"md-add\" @click=\"add\" :requestConfig=request.addReq>新增</S-AuthButton>\n              <S-AuthButton type=\"primary\" icon=\"ios-trash-outline\" @click=\"del\" :requestConfig=request.delReq>删除</S-AuthButton> -->\n              <!-- <Button type=\"primary\" icon=\"md-cloud-download\" @click=\"download\">下载</Button> -->\n              <!--  icon=\"md-add\"  -->\n              <!-- <s-auth-button :loading=\"loadingBatchA\" :disabled=\"ctrlloadingBatchADisable\" type=\"primary\" @click=\"batchActiveConfirm\" :requestConfig=request.batchActive>批量重调</s-auth-button> -->\n              <!--\n                <S-AuthButton :loading=\"loadingBatchFC\" :disabled=\"ctrlloadingBatchFCDisable\" type=\"primary\" @click=\"batchForceStartConfirm\" :requestConfig=request.batchForceStart>批量补数</S-AuthButton>\n              -->\n            </div>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n\n    <div v-if=\"transData.showTable\" class=\"spdb-table\" id=\"joblistTable\">\n      <Table  size=\"small\"  :columns=\"gridColumns\" :data=\"gridData\" stripe @on-selection-change=\"select\" @on-sort-change=\"changeSort\">\n      </Table>\n    </div>\n\n    <div v-if=\"transData.showTable\" class=\"spdb-page\">\n      <Page placement=\"top\" :total=\"page.total\" :current=\"page.current\" :page-size=\"page.size\" :page-size-opts=\"page.opt\"  show-total show-sizer show-elevator @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" ></Page>\n    </div>\n\n    <Modal id=\"confirmM\"\n      v-model=\"confirm.show\"\n      :mask-closable=\"false\"\n      title=\"提示\">\n      <div>\n        <Alert type=\"warning\" >确认kill作业:{{confirm.job}}</Alert>\n      </div>\n      <div slot=\"footer\">\n        <div style=\"margin-left: 150px;\">\n          <Button type=\"primary\" @click=\"killJob\">确定</Button>\n          <Button type=\"primary\" @click=\"confirmCancel\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n\n    <Modal id=\"confirmD\"\n      v-model=\"confirmDisable.show\"\n      :mask-closable=\"false\"\n      title=\"提示\">\n      <div>\n        <Form  ref=\"confirmDisableForm\" :label-width=\"100\"  inline>\n          <Alert class=\"m-warn-con\" type=\"warning\" >禁用作业后，该作业不再运行</Alert>\n          <Alert class=\"m-warn-con\" type=\"warning\" >禁用作业影响该作业的触发作业运行</Alert>\n          <Checkbox class=\"m-warn-con\" v-model=\"res.isAgree\" > 我承担该操作的一切后果</Checkbox>\n        </Form>\n      </div>\n      <div slot=\"footer\">\n        <div style=\"margin-left: 150px;\">\n          <Button type=\"primary\" :loading=\"loadingdisable\" @click=\"disableJob\">确定</Button>\n          <Button type=\"primary\" @click=\"disableCancel\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n    <Modal id=\"confirmBatchActive\"\n      v-model=\"confirmBatchActive.show\"\n      :mask-closable=\"false\"\n      title=\"提示\">\n      <div>\n        <Alert class=\"m-warn-con\" type=\"warning\" >批量重调会检查依赖，触发下游作业执行，确认是否进行批量重调?</Alert>\n        <Checkbox class=\"m-warn-con\" v-model=\"confirmBatchActive.isAgree\" > 我承担该操作的一切后果</Checkbox>\n      </div>\n      <div slot=\"footer\">\n        <div style=\"margin-left: 150px;\">\n          <Button type=\"primary\" @click=\"batchActive\">确定</Button>\n          <Button type=\"primary\" @click=\"confirmBatchActiveCancel\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n\n  <Modal id=\"confirmBatchForceStart\"\n      v-model=\"confirmBatchForceStart.show\"\n      :mask-closable=\"false\"\n      width='50%'\n      title=\"提示\">\n      <div>\n        <div>\n          <Form ref=\"confirmBatchForceStartForm\" :model=\"forceStartFormBean\" :rules=\"forceStartRuleValidate\" :label-width=\"100\"   inline>\n            <Row>\n              <Col span=\"10\">\n                <FormItem prop=\"jobDate\" label=\"补数日期\">\n                  <DatePicker style=\"width:96%\" type=\"date\" multiple  format=\"yyyyMMdd\" v-model=\"forceStartFormBean.jobDate\" ></DatePicker>\n                </FormItem>\n              </Col>\n            </Row>\n\t\t\t      <Row>\n              <Col span=\"10\">\n                <FormItem prop=\"multiBatch\" label=\"批次号\">\n                  <Input style=\"width:110%\" v-model=\"forceStartFormBean.multiBatch\" />\n                </FormItem>\n              </Col>\n            </Row>\n            <Row >\n              <Col span=\"10\">\n                <FormItem prop=\"serverName\" label=\"执行节点\">\n                    <Select style=\"width:100%\" filterable v-model=\"forceStartFormBean.serverName\" clearable placeholder=\"请选择\">\n                      <Option v-for=\"item in serverData\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                    </Select>\n                </FormItem>\n              </Col>\n\n              <Col span=\"14\" >\n                <FormItem>\n                  <Alert type=\"warning\" > 提示:udsslavedep是交换的节点，专门跑Datastage的。perl脚本选udsslave即可</Alert>\n                </FormItem>\n              </Col>\n            </Row>\n          </Form>\n        </div>\n        <Alert class=\"m-warn-con\" type=\"warning\" >确认是否进行批量补数?</Alert>\n        <Checkbox class=\"m-warn-con\" v-model=\"confirmBatchForceStart.isAgree\" > 我承担该操作的一切后果</Checkbox>\n      </div>\n      <div slot=\"footer\">\n        <div style=\"margin-left: 150px;\">\n          <Button type=\"primary\" @click=\"batchForceStart\">确定</Button>\n          <Button type=\"primary\" @click=\"confirmBatchForceStartCancel\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n    <Modal id=\"confirmV\"\n      v-model=\"confirmVi.show\"\n      :mask-closable=\"false\"\n      title=\"提示\">\n      <div>\n        <Alert class=\"m-warn-con\" type=\"warning\" >\n            <span style=\"font-weight:bold\">友情提示:</span><br/>\n            <div style=\"margin-left:4%\">\n              1.置虚作业后，不再执行该作业的脚本<br/>\n              2.使用该作业数据的下游也无法获取该作业最新数据<br/>\n              3.请应用关注下游作业影响，建议同步通知下游负责人<br/>\n           </div>\n        </Alert>\n        <Checkbox class=\"m-warn-con\" v-model=\"res.isAgree\" >我承担该操作的一切后果</Checkbox>\n      </div>\n      <div slot=\"footer\">\n        <div style=\"margin-left: 150px;\">\n          <Button type=\"primary\" :loading=\"loadingvitual\" @click=\"vitualJob\">确定</Button>\n          <Button type=\"primary\" @click=\"vitualCancel\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n    <Modal id=\"upAndDownstream\"\n\t\t\tv-model=\"upAndDownstream.show\"\n\t\t\ttitle=\"上下游信息\"\n\t\t\twidth='75%'\n\t\t\t>\n      <div style=\"max-height:60vh;overflow-y:scroll;overflow-x:hidden\">\n        <div style=\"background:#eee;padding: 10px;\">\n          <Card>\n            <p slot=\"title\">上游作业信息</p>\n            <Tree :data=\"upstreamData\" :load-data=\"loadUpData\" :render=\"renderContent\" expand-node></Tree>\n          </Card>\n        </div>\n        <div style=\"background:#eee;padding: 10px\">\n          <Card>\n            <p slot=\"title\">下游作业信息</p>\n            <Tree :data=\"downstreamData\" :load-data=\"loadDownData\" :render=\"renderContent\" expand-node></Tree>\n          </Card>\n        </div>\n      </div>\n      <div slot=\"footer\"></div>\n    </Modal>\n\n    <!-- 作业详情信息预览抽屉 -->\n    <Drawer width=\"50\" v-model=\"jobDrawer.show\" title=\"作业详细信息\" id=\"drawerClass\">\n      <div>\n        <div class=\"jobdetailclass\">\n          <Card>\n          <Row>\n            <Col span=\"12\">\n              平台名:<span class=\"span\">{{jobDetailBean.platform}} </span>\n            </Col>\n            <Col span=\"12\">\n              应用名:<span class=\"span\"> {{jobDetailBean.systems}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              作业名:<span class=\"span\">{{jobDetailBean.job}}</span>\n            </Col>\n            <Col span=\"12\">\n              作业最后执行状态:<span class=\"span\">{{jobDetailBean.lastStatus}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              最后执行作业日期:<span class=\"span\">{{jobDetailBean.jobDate}}</span>\n            </Col>\n            <Col span=\"12\">\n              执行节点:<span class=\"span\">{{jobDetailBean.serverName}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              进入pending状态的时间:<span class=\"span\">{{jobDetailBean.pendingTime}}</span>\n            </Col>\n            <Col span=\"12\">\n              进入dispatcherTime状态的时间:<span class=\"span\"> {{jobDetailBean.dispatcherTime}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              开始执行时间:<span class=\"span\">{{jobDetailBean.startTime}}</span>\n            </Col>\n            <Col span=\"12\">\n              结束时间:<span class=\"span\">{{jobDetailBean.endTime}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              批次号:<span class=\"span\">{{jobDetailBean.multiBatch}}</span>\n            </Col>\n            <Col span=\"12\">\n              触发方式:<span class=\"span\">{{streamTypeList[jobDetailBean.streamType]}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              执行次数:<span class=\"span\">{{jobDetailBean.numTimes}}</span>\n            </Col>\n            <Col span=\"12\">\n              当前重调次数:<span class=\"span\">{{jobDetailBean.callAgainNum}}</span>\n            </Col>\n          </Row>\n          </Card>\n        </div>\n\n        <!-- <Divider/> -->\n        <div class=\"jobdetailclass\">\n          <Card>\n          <Row>\n            <Col span=\"12\">\n              作业中文名:<span class=\"span\">{{jobDetailBean.jobName}}</span>\n            </Col>\n            <Col span=\"12\">\n              作业类型:<span class=\"span\" v-text=\"jobDetailBean.jobType == 'D'? '日':jobDetailBean.jobType== 'C'? '定时':jobDetailBean.jobType== 'W'? '周': '月'\">{{jobDetailBean.jobType}}</span>\n            </Col>\n          </Row>\n           <Row>\n             <Col span=\"12\">\n              最大重调次数:<span class=\"span\">{{jobDetailBean.callAgainMaxNum}}</span>\n            </Col>\n            <!-- <Col span=\"12\">\n              偏移天数:<span class=\"span\">{{jobDetailBean.offsetDay}}</span>\n            </Col> -->\n            <Col span=\"12\">\n              窗口执行时间:<span class=\"span\">{{jobDetailBean.timewindow}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              虚作业:<span v-text=\"jobDetailBean.virtualEnable == 1?'是':'否'\" class=\"span\">{{jobDetailBean.virtualEnable}}</span>\n            </Col>\n            <Col span=\"12\">\n              优先级:<span class=\"span\">{{jobDetailBean.priority}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              是否可用:<span v-text=\"jobDetailBean.enable ?'是':'否'\" class=\"span\">{{jobDetailBean.enable}}</span>\n            </Col>\n            <Col span=\"12\">\n              逻辑集群:<span class=\"span\">{{dbControlList[jobDetailBean.dbControl]}}</span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span=\"12\">\n              是否检测时间:<span v-text=\"jobDetailBean.checkFrequency == 1?'是':'否'\" class=\"span\">{{jobDetailBean.checkFrequency}}</span>\n            </Col>\n            <Col span=\"12\">\n              检测是否采用时间触发:<span v-text=\"jobDetailBean.checkTimeTrigger == 1?'是':'否'\" class=\"span\">{{jobDetailBean.checkTimeTrigger}}</span>\n            </Col>\n          </Row>\n          <!-- <Row>\n            <Col span=\"12\">\n              是否启用streamFile检测触发:<span class=\"span\">{{jobDetailBean.checkStreamSelf}}</span>\n            </Col>\n            <Col span=\"12\">\n              是否检测权重:<span class=\"span\">{{jobDetailBean.checkWeight}}</span>\n            </Col>\n          </Row> -->\n        </Card>\n        </div>\n      </div>\n    </Drawer>\n  </div>\n",null]}